<div class="form-wrapper">
  <form [formGroup]="form" class="form">

    <!-- Header -->
    <div class="form__header">
      <h2 class="form__title">
        {{ isEditMode ? 'Editar Producto' : 'Crear Producto' }}
      </h2>
    </div>

    <!-- Body -->
    <div class="form__body">

      <!-- Grid de dos columnas -->
      <div class="form__grid">

        <!-- ID -->
        <div class="form__field">
          <label for="id" [ngClass]="{'form__label-disabled': isEditMode, 'form__label': !isEditMode}">ID</label>
          <input type="text" id="id" formControlName="id" class="form__input"
            [ngClass]="{'form__input--error': form.get('id')?.invalid && form.get('id')?.touched}" />
          @if (form.get('id')?.invalid && form.get('id')?.touched) {
          <div class="form__error">
            @for (error of getErrorMessages('id'); track $index) {
            <span>{{ error }}</span>
            }
          </div>
          }
        </div>

        <!-- Nombre -->
        <div class="form__field">
          <label for="name" class="form__label">Nombre</label>
          <input type="text" id="name" formControlName="name" class="form__input"
            [ngClass]="{'form__input--error': form.get('name')?.invalid && form.get('name')?.touched}" />
          @if (form.get('name')?.invalid && form.get('name')?.touched) {
          <div class="form__error">
            @for (error of getErrorMessages('name'); track $index) {
            <span>{{ error }}</span>
            }
          </div>
          }
        </div>

        <!-- Descripción -->
        <div class="form__field">
          <label for="description" class="form__label">Descripción</label>
          <input type="text" id="description" formControlName="description" class="form__input"
            [ngClass]="{'form__input--error': form.get('description')?.invalid && form.get('description')?.touched}" />
          @if (form.get('description')?.invalid && form.get('description')?.touched) {
          <div class="form__error">
            @for (error of getErrorMessages('description'); track $index) {
            <span>{{ error }}</span>
            }
          </div>
          }
        </div>

        <!-- Logo -->
        <div class="form__field">
          <label for="logo" class="form__label">Logo</label>
          <input type="text" id="logo" formControlName="logo" class="form__input"
            [ngClass]="{'form__input--error': form.get('logo')?.invalid && form.get('logo')?.touched}" />
          @if (form.get('logo')?.invalid && form.get('logo')?.touched) {
          <div class="form__error">
            @for (error of getErrorMessages('logo'); track $index) {
            <span>{{ error }}</span>
            }
          </div>
          }
        </div>

        <!-- Fecha de liberación -->
        <div class="form__field">
          <label for="date_release" class="form__label">Fecha de liberación</label>
          <input type="date" id="date_release" formControlName="date_release" class="form__input"
            (change)="onDateReleaseChange()"
            [ngClass]="{'form__input--error': form.get('date_release')?.invalid && form.get('date_release')?.touched}" />
          @if (form.get('date_release')?.invalid && form.get('date_release')?.touched) {
          <div class="form__error">
            @for (error of getErrorMessages('date_release'); track $index) {
            <span>{{ error }}</span>
            }
          </div>
          }
        </div>

        <!-- Fecha de revisión -->
        <div class="form__field">
          <label for="date_revision" class="form__label-disabled">Fecha de revisión</label>
          <input type="date" id="date_revision" formControlName="date_revision" class="form__input" />
        </div>

      </div>

    </div>

    <!-- Footer -->
    <div class="form__footer">
      <!-- Botón de Reset -->
      <button-custom [buttonClass]="'button-secondary'" (buttonClicked)="resetForm()">
        Reiniciar
      </button-custom>

      <!-- Botón de Enviar -->
      <button-custom [buttonClass]="'button-primary'" [isDisabled]="!form.valid" (buttonClicked)="submit()">
        Enviar
      </button-custom>
    </div>

  </form>
</div>